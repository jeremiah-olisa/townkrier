# Force pnpm to hoist all NestJS packages to root
public-hoist-pattern[]=*@nestjs/*

# Ensure class-transformer, class-validator, reflect-metadata and rxjs are deduped and shared
public-hoist-pattern[]=class-transformer
public-hoist-pattern[]=class-validator
public-hoist-pattern[]=reflect-metadata
public-hoist-pattern[]=rxjs

# Treat monorepo workspace dependencies correctly
link-workspace-packages=true

# Guarantee deterministic installs
save-exact=true
resolution-mode=lowest-direct

# Avoid peer dependency hell errors
strict-peer-dependencies=false

# Improve installation performance
prefer-offline=true
